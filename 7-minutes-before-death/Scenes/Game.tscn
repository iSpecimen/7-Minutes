[gd_scene format=4 uid="uid://b5gr4odnlepl2"]

[ext_resource type="Texture2D" uid="uid://eiw8ckbnrkox" path="res://icon.svg" id="1_iukft"]
[ext_resource type="Texture2D" uid="uid://cqcnjh3x1pnnk" path="res://ImageData/ImageSources/Monke.png" id="1_j5yw3"]
[ext_resource type="Script" uid="uid://22r3fvvuy5vb" path="res://Scenes/interactingobjecttest.gd" id="2_fgofq"]
[ext_resource type="Script" uid="uid://d18migbj4ij20" path="res://Scripts/RoomManagerScript.gd" id="2_gl6un"]
[ext_resource type="Script" uid="uid://c83dbh8khmprk" path="res://Scripts/CharacterMovement.gd" id="2_kldst"]
[ext_resource type="Texture2D" uid="uid://b2o4ha4s1vjeh" path="res://ImageData/Sprites/Doar.PNG" id="3_2irst"]
[ext_resource type="PackedScene" uid="uid://dfnp553rklteh" path="res://RoomData/Room1.tscn" id="3_bf53h"]
[ext_resource type="PackedScene" uid="uid://bbx8ofq8sn8wj" path="res://interactions/interaction area/interaction_area.tscn" id="4_bf53h"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_71axn"]
resource_name = "MainTexture"
texture = ExtResource("1_j5yw3")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
1:1/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_b2bpf"]
tile_size = Vector2i(64, 64)
sources/0 = SubResource("TileSetAtlasSource_71axn")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_71axn"]
size = Vector2(80, 71)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dahhg"]
size = Vector2(126, 104)

[sub_resource type="CircleShape2D" id="CircleShape2D_3mrqo"]
radius = 17.234005

[node name="Game" type="Node2D" unique_id=1085711166]

[node name="Camera2D" type="Camera2D" parent="." unique_id=546449276]

[node name="Rooms" type="Node2D" parent="." unique_id=823573370]

[node name="CurrentRoom" type="Node2D" parent="Rooms" unique_id=236686629]

[node name="CurrentRoomTilemap" type="TileMapLayer" parent="Rooms/CurrentRoom" unique_id=1288477485]
tile_map_data = PackedByteArray("AAD//wAAAAAAAAAAAAD+/wAAAAAAAAAAAAD+////AAAAAAAAAAD/////AAAAAAAAAAAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD+/wEAAAAAAAAAAAABAAAAAAAAAAAAAAABAP//AAAAAAAAAAABAAEAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wAAAAAAAAAAAAD9////AAAAAAAAAAD9//7/AAAAAAAAAAD+//7/AAAAAAAAAAD///7/AAAAAAAAAAAAAP7/AAAAAAAAAAABAP7/AAAAAAAAAAACAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAABAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD9/wIAAAAAAAAAAAD9//3/AAAAAAAAAAD+//3/AAAAAAAAAAD///3/AAAAAAAAAAAAAP3/AAAAAAAAAAABAP3/AAAAAAAAAAACAP3/AAAAAAAAAAD8/wIAAAABAAEAAAD8//3/AAABAAEAAAADAP3/AAABAAEAAAADAAIAAAABAAEAAAA=")
tile_set = SubResource("TileSet_b2bpf")

[node name="DoorLvl1" type="StaticBody2D" parent="Rooms/CurrentRoom" unique_id=533851479]
position = Vector2(-229, 156)
script = ExtResource("2_fgofq")
SceneToLoad = ExtResource("3_bf53h")

[node name="Sprite" type="Sprite2D" parent="Rooms/CurrentRoom/DoorLvl1" unique_id=1642375694]
scale = Vector2(0.3199988, 0.23999973)
texture = ExtResource("3_2irst")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl1" unique_id=1332332233]
shape = SubResource("RectangleShape2D_71axn")

[node name="InteractionArea" parent="Rooms/CurrentRoom/DoorLvl1" unique_id=1204932933 instance=ExtResource("4_bf53h")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl1/InteractionArea" unique_id=1488043707]
position = Vector2(19, -15)
shape = SubResource("RectangleShape2D_dahhg")

[node name="DoorLvl2" type="StaticBody2D" parent="Rooms/CurrentRoom" unique_id=1841936021]
position = Vector2(-229, -156)
script = ExtResource("2_fgofq")

[node name="Sprite" type="Sprite2D" parent="Rooms/CurrentRoom/DoorLvl2" unique_id=18006639]
scale = Vector2(0.3199988, 0.23999973)
texture = ExtResource("3_2irst")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl2" unique_id=1838044381]
shape = SubResource("RectangleShape2D_71axn")

[node name="InteractionArea" parent="Rooms/CurrentRoom/DoorLvl2" unique_id=1235387191 instance=ExtResource("4_bf53h")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl2/InteractionArea" unique_id=1951056150]
position = Vector2(19, -15)
shape = SubResource("RectangleShape2D_dahhg")

[node name="DoorLvl3" type="StaticBody2D" parent="Rooms/CurrentRoom" unique_id=1977703737]
position = Vector2(222, 156)
script = ExtResource("2_fgofq")

[node name="Sprite" type="Sprite2D" parent="Rooms/CurrentRoom/DoorLvl3" unique_id=1890933924]
scale = Vector2(0.3199988, 0.23999973)
texture = ExtResource("3_2irst")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl3" unique_id=1883669551]
shape = SubResource("RectangleShape2D_71axn")

[node name="InteractionArea" parent="Rooms/CurrentRoom/DoorLvl3" unique_id=350184514 instance=ExtResource("4_bf53h")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CurrentRoom/DoorLvl3/InteractionArea" unique_id=964056458]
position = Vector2(-23, -14)
shape = SubResource("RectangleShape2D_dahhg")

[node name="CharacterBody2D" type="CharacterBody2D" parent="Rooms" unique_id=1205515703 groups=["player"]]
position = Vector2(3, 0)
scale = Vector2(0.8800003, 0.35999972)
collision_layer = 2
script = ExtResource("2_kldst")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/CharacterBody2D" unique_id=1629488047]
scale = Vector2(3.909092, 6.6666718)
shape = SubResource("CircleShape2D_3mrqo")

[node name="Sprite2D" type="Sprite2D" parent="Rooms/CharacterBody2D" unique_id=890571048]
texture = ExtResource("1_iukft")

[node name="RoomManager" type="Node" parent="Rooms" unique_id=2038621962]
script = ExtResource("2_gl6un")
[gd_scene format=3 uid="uid://b5gr4odnlepl2"]

[ext_resource type="Script" uid="uid://dudy12clsa3st" path="res://Scripts/gameController.gd" id="1_gl6un"]

[node name="Game" type="Node2D" unique_id=1085711166]
script = ExtResource("1_gl6un")

[node name="MainMenuCamera" type="Camera2D" parent="." unique_id=830913481]

[node name="MainMenuHUD" type="Control" parent="MainMenuCamera" unique_id=926888057]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 0
offset_left = -256.0
offset_top = -174.0
offset_right = 254.0
offset_bottom = 166.0
scale = Vector2(1.0015937, 1)

[node name="Panel" type="Panel" parent="MainMenuCamera/MainMenuHUD" unique_id=631519181]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="MainMenuCamera/MainMenuHUD/Panel" unique_id=642893865]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenuCamera/MainMenuHUD/Panel/MarginContainer" unique_id=116422983]
layout_mode = 2

[node name="Host Game" type="Button" parent="MainMenuCamera/MainMenuHUD/Panel/MarginContainer/VBoxContainer" unique_id=1461976996]
layout_mode = 2
text = "Host Game"

[node name="Join Game" type="Button" parent="MainMenuCamera/MainMenuHUD/Panel/MarginContainer/VBoxContainer" unique_id=195431902]
layout_mode = 2
text = "Join Game
"

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="." unique_id=1530712542]
_spawnable_scenes = PackedStringArray("uid://d3of633nmkams")
spawn_path = NodePath("../Players")

[node name="Players" type="Node2D" parent="." unique_id=1450767889]

[node name="Corridor" type="TileMapLayer" parent="." unique_id=12712566]

[connection signal="pressed" from="MainMenuCamera/MainMenuHUD/Panel/MarginContainer/VBoxContainer/Host Game" to="." method="becomeHost"]
[connection signal="pressed" from="MainMenuCamera/MainMenuHUD/Panel/MarginContainer/VBoxContainer/Join Game" to="." method="joinHostGame"]
